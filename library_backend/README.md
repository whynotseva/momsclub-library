# üöÄ LibriMomsClub Backend API

Backend API –¥–ª—è –∑–∞–∫—Ä—ã—Ç–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ MomsClub –Ω–∞ FastAPI.

## üìã –ß—Ç–æ —Å–æ–∑–¥–∞–Ω–æ:

### ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **SQL –º–∏–≥—Ä–∞—Ü–∏—è:** `migrations/001_create_library_tables.sql`
  - 7 –Ω–æ–≤—ã—Ö —Ç–∞–±–ª–∏—Ü –¥–ª—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
  - –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
  - –ù–∞—á–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–∫–∞—Ç–µ–≥–æ—Ä–∏–∏, —Ç–µ–≥–∏)

- **SQLAlchemy –º–æ–¥–µ–ª–∏:** `app/models/library_models.py`
  - LibraryCategory
  - LibraryTag
  - LibraryMaterial
  - LibraryAttachment
  - LibraryFavorite
  - LibraryView

### ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- `app/config.py` ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- `app/database.py` ‚Äî –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
- `.env.example` ‚Äî –ø—Ä–∏–º–µ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- `requirements.txt` ‚Äî –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python

## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ (–ª–æ–∫–∞–ª—å–Ω–æ)

```bash
# 1. –°–æ–∑–¥–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python3 -m venv venv
source venv/bin/activate  # macOS/Linux
# –∏–ª–∏
venv\Scripts\activate  # Windows

# 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# 3. –°–æ–∑–¥–∞—Ç—å .env —Ñ–∞–π–ª
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å .env (—É–∫–∞–∑–∞—Ç—å –ø—É—Ç–∏ –∫ –ë–î, —Ç–æ–∫–µ–Ω—ã)

# 4. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –ë–î
sqlite3 ../momsclub.db < migrations/001_create_library_tables.sql

# 5. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
uvicorn main:app --reload --port 8001
```

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
library_backend/
‚îú‚îÄ‚îÄ migrations/                 # SQL –º–∏–≥—Ä–∞—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ 001_create_library_tables.sql
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ api/                   # API endpoints (—Å–æ–∑–¥–∞—ë–º –¥–∞–ª–µ–µ)
‚îÇ   ‚îú‚îÄ‚îÄ models/                # SQLAlchemy –º–æ–¥–µ–ª–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ library_models.py
‚îÇ   ‚îú‚îÄ‚îÄ schemas/               # Pydantic —Å—Ö–µ–º—ã (—Å–æ–∑–¥–∞—ë–º –¥–∞–ª–µ–µ)
‚îÇ   ‚îú‚îÄ‚îÄ services/              # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (—Å–æ–∑–¥–∞—ë–º –¥–∞–ª–µ–µ)
‚îÇ   ‚îú‚îÄ‚îÄ utils/                 # –£—Ç–∏–ª–∏—Ç—ã (—Å–æ–∑–¥–∞—ë–º –¥–∞–ª–µ–µ)
‚îÇ   ‚îú‚îÄ‚îÄ config.py              # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ database.py            # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
‚îú‚îÄ‚îÄ main.py                    # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ (—Å–æ–∑–¥–∞—ë–º –¥–∞–ª–µ–µ)
‚îú‚îÄ‚îÄ requirements.txt           # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ .env.example               # –ü—Ä–∏–º–µ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îî‚îÄ‚îÄ README.md                  # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

## üîú –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

1. ‚úÖ SQL –º–∏–≥—Ä–∞—Ü–∏—è ‚Äî **–ì–û–¢–û–í–û**
2. ‚úÖ SQLAlchemy –º–æ–¥–µ–ª–∏ ‚Äî **–ì–û–¢–û–í–û**
3. ‚è≥ API endpoints (–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, –º–∞—Ç–µ—Ä–∏–∞–ª—ã, –∫–∞—Ç–µ–≥–æ—Ä–∏–∏)
4. ‚è≥ Pydantic —Å—Ö–µ–º—ã –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏
5. ‚è≥ –°–µ—Ä–≤–∏—Å—ã –¥–ª—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏
6. ‚è≥ Middleware –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–ø–∏—Å–∫–∏
7. ‚è≥ –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å endpoints

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è:

- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: –æ–±—â–∞—è —Å –±–æ—Ç–æ–º MomsClub (`momsclub.db`)
- –ü–æ—Ä—Ç: 8001 (8000 –∑–∞–Ω—è—Ç webhook –Æ–ö–∞—Å—Å—ã)
- –î–æ–º–µ–Ω: api.librarymomsclub.ru
