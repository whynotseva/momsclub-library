# üî¥ –ê–£–î–ò–¢ –¢–ï–ú: –°–≤–µ—Ç–ª–∞—è –∏ –¢—ë–º–Ω–∞—è —Ç–µ–º–∞

## –ó–∞–¥–∞—á–∞ –¥–ª—è Codex
–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ –≤ –ø–∞–ø–∫–µ `library_frontend/` –∏ –Ω–∞–π—Ç–∏ –≤—Å–µ –ø—Ä–æ–±–ª–µ–º—ã —Å —Ç–µ–º–∞–º–∏.

## –ü—Ä–æ–±–ª–µ–º–∞
–¢–µ–º—ã –ø–µ—Ä–µ–º–µ—à–∞–ª–∏—Å—å:
- –í —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º–µ –≤–∏–¥–Ω—ã —ç–ª–µ–º–µ–Ω—Ç—ã —Ç—ë–º–Ω–æ–π —Ç–µ–º—ã
- –í —Ç—ë–º–Ω–æ–π —Ç–µ–º–µ –≤–∏–¥–Ω—ã —ç–ª–µ–º–µ–Ω—Ç—ã —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º—ã

---

## –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–µ–º—ã –≤ –ø—Ä–æ–µ–∫—Ç–µ

### ThemeContext (`contexts/ThemeContext.tsx`)
- –î–æ–±–∞–≤–ª—è–µ—Ç –∫–ª–∞—Å—Å `dark` –Ω–∞ `<html>` –∫–æ–≥–¥–∞ —Ç–µ–º–∞ —Ç—ë–º–Ω–∞—è
- Tailwind –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `darkMode: 'class'`

### –ü—Ä–∞–≤–∏–ª–æ —Å—Ç–∏–ª–µ–π Tailwind
```
–°–í–ï–¢–õ–ê–Ø –¢–ï–ú–ê: className="bg-white text-black"
–¢–Å–ú–ù–ê–Ø –¢–ï–ú–ê: className="bg-white dark:bg-black text-black dark:text-white"
```

**–í–ê–ñ–ù–û**: –ö–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –û–ë–ê –≤–∞—Ä–∏–∞–Ω—Ç–∞ ‚Äî –±–∞–∑–æ–≤—ã–π (—Å–≤–µ—Ç–ª—ã–π) –ò dark: (—Ç—ë–º–Ω—ã–π)

---

## –§–∞–π–ª—ã –¥–ª—è –∞—É–¥–∏—Ç–∞

### –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ (–æ—Å–Ω–æ–≤–Ω–æ–π —Å–∞–π—Ç)
| –§–∞–π–ª | –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å |
|------|---------------|
| `app/library/page.tsx` | –í—Å–µ —Ü–≤–µ—Ç–∞ —Ç–µ–∫—Å—Ç–∞, —Ñ–æ–Ω—ã, –±–æ—Ä–¥–µ—Ä—ã |
| `components/library/Header.tsx` | –®–∞–ø–∫–∞, –Ω–∞–≤–∏–≥–∞—Ü–∏—è |
| `components/library/MaterialCard.tsx` | –ö–∞—Ä—Ç–æ—á–∫–∏ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ |
| `components/library/FeaturedSection.tsx` | –°–µ–∫—Ü–∏—è "–í—ã–±–æ—Ä –ü–æ–ª–∏–Ω—ã" |
| `app/favorites/page.tsx` | –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ |
| `app/history/page.tsx` | –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∏—Å—Ç–æ—Ä–∏–∏ |
| `app/profile/page.tsx` | –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ—Ñ–∏–ª—è |

### –ê–¥–º–∏–Ω–∫–∞
| –§–∞–π–ª | –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å |
|------|---------------|
| `app/admin/page.tsx` | –®–∞–ø–∫–∞, —Ç–∞–±—ã, –≤—Å–µ —Å–µ–∫—Ü–∏–∏ |
| `components/admin/StatsTab.tsx` | –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ |
| `components/admin/MaterialsTab.tsx` | –ú–∞—Ç–µ—Ä–∏–∞–ª—ã |
| `components/admin/CategoriesTab.tsx` | –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ |
| `components/admin/HistoryTab.tsx` | –ò—Å—Ç–æ—Ä–∏—è |
| `components/admin/UsersTab.tsx` | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ |
| `components/admin/BotStatsTab.tsx` | –ë–æ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ |
| `components/admin/MaterialFormModal.tsx` | –ú–æ–¥–∞–ª–∫–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–∞ |
| `components/admin/CategoryFormModal.tsx` | –ú–æ–¥–∞–ª–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ |
| `components/admin/UserDetailsModal.tsx` | –ú–æ–¥–∞–ª–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| `components/admin/BotUserCard.tsx` | –ö–∞—Ä—Ç–æ—á–∫–∞ –±–æ—Ç-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |

### –û–±—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
| –§–∞–π–ª | –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å |
|------|---------------|
| `components/shared/Avatar.tsx` | –ê–≤–∞—Ç–∞—Ä |
| `components/shared/LoadingSpinner.tsx` | –õ–æ–∞–¥–µ—Ä |
| `components/shared/SubscriptionGuard.tsx` | –ì–∞—Ä–¥ –ø–æ–¥–ø–∏—Å–∫–∏ |

### –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏
| –§–∞–π–ª | –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å |
|------|---------------|
| `app/globals.css` | –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏, body background |
| `tailwind.config.ts` | darkMode: 'class' |

---

## –¶–≤–µ—Ç–∞ –ø–æ —Ç–µ–º–∞–º

### –°–í–ï–¢–õ–ê–Ø –¢–ï–ú–ê (–±–∞–∑–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã)
```
–§–æ–Ω —Å—Ç—Ä–∞–Ω–∏—Ü—ã:     bg-gradient-to-b from-[#FDFCFA] via-[#FBF8F3] to-[#F5EFE6]
–§–æ–Ω –∫–∞—Ä—Ç–æ—á–∫–∏:     bg-white/80, bg-white/90
–¢–µ–∫—Å—Ç –æ—Å–Ω–æ–≤–Ω–æ–π:   text-[#2D2A26], text-[#5D4E3A]
–¢–µ–∫—Å—Ç –≤—Ç–æ—Ä–∏—á–Ω—ã–π:  text-[#8B8279]
–ë–æ—Ä–¥–µ—Ä:           border-[#E8D4BA]/30, border-[#E8D4BA]/40
–ê–∫—Ü–µ–Ω—Ç:           text-[#B08968], bg-[#B08968]
```

### –¢–Å–ú–ù–ê–Ø –¢–ï–ú–ê (dark: –ø—Ä–µ—Ñ–∏–∫—Å—ã)
```
–§–æ–Ω —Å—Ç—Ä–∞–Ω–∏—Ü—ã:     dark:from-[#121212] dark:via-[#1A1A1A] dark:to-[#121212]
–§–æ–Ω –∫–∞—Ä—Ç–æ—á–∫–∏:     dark:bg-[#1E1E1E]/80, dark:bg-[#2A2A2A]
–¢–µ–∫—Å—Ç –æ—Å–Ω–æ–≤–Ω–æ–π:   dark:text-[#E5E5E5]
–¢–µ–∫—Å—Ç –≤—Ç–æ—Ä–∏—á–Ω—ã–π:  dark:text-[#B0B0B0]
–ë–æ—Ä–¥–µ—Ä:           dark:border-[#3D3D3D]
–ê–∫—Ü–µ–Ω—Ç:           #B08968 (–æ–¥–∏–Ω–∞–∫–æ–≤—ã–π)
```

---

## –ß–µ–∫–ª–∏—Å—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞

–î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞ –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å grep –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –í–°–ï —ç–ª–µ–º–µ–Ω—Ç—ã –∏–º–µ—é—Ç –ø–∞—Ä—É —Å–≤–µ—Ç–ª–∞—è + —Ç—ë–º–Ω–∞—è:

```bash
# 1. –ù–∞–π—Ç–∏ —ç–ª–µ–º–µ–Ω—Ç—ã –ë–ï–ó dark: –≤–∞—Ä–∏–∞–Ω—Ç–∞ (–ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã)
grep -n "bg-white\|bg-\[#F" file.tsx | grep -v "dark:"
grep -n "text-\[#5D4E3A\]\|text-\[#2D2A26\]\|text-\[#8B8279\]" file.tsx | grep -v "dark:"
grep -n "border-\[#E8D4BA\]" file.tsx | grep -v "dark:"

# 2. –ù–∞–π—Ç–∏ —Ç—ë–º–Ω—ã–µ —Å—Ç–∏–ª–∏ –ë–ï–ó —Å–≤–µ—Ç–ª–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞
grep -n "dark:bg-\[#1\|dark:bg-\[#2" file.tsx
grep -n "dark:text-\[#E\|dark:text-\[#B0\]" file.tsx
```

---

## –®–∞–≥–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å ThemeContext
- [ ] `mounted` —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –ö–ª–∞—Å—Å `dark` –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ `<html>` –ø—Ä–∏ –≤—ã–±–æ—Ä–µ —Ç—ë–º–Ω–æ–π —Ç–µ–º—ã
- [ ] localStorage —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏ —á–∏—Ç–∞–µ—Ç —Ç–µ–º—É

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å tailwind.config.ts
- [ ] `darkMode: 'class'` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω

### –®–∞–≥ 3: –ê—É–¥–∏—Ç globals.css
- [ ] –ù–µ—Ç –∂—ë—Å—Ç–∫–∏—Ö —Ü–≤–µ—Ç–æ–≤ –±–µ–∑ dark: –≤–∞—Ä–∏–∞–Ω—Ç–∞
- [ ] body background –∏–º–µ–µ—Ç –æ–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞

### –®–∞–≥ 4: –ê—É–¥–∏—Ç –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
–î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞ –∏–∑ —Å–ø–∏—Å–∫–∞:
1. –û—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª
2. –ü—Ä–æ–≥–Ω–∞—Ç—å grep –∫–æ–º–∞–Ω–¥—ã
3. –î–ª—è –∫–∞–∂–¥–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –±–µ–∑ dark: ‚Äî –¥–æ–±–∞–≤–∏—Ç—å dark: –≤–∞—Ä–∏–∞–Ω—Ç
4. –î–ª—è –∫–∞–∂–¥–æ–≥–æ dark: –±–µ–∑ –±–∞–∑–æ–≤–æ–≥–æ ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –±–∞–∑–æ–≤—ã–π

### –®–∞–≥ 5: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –û—Ç–∫—Ä—ã—Ç—å –≤ —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º–µ ‚Äî –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Å–≤–µ—Ç–ª—ã–µ
- [ ] –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞ —Ç—ë–º–Ω—É—é ‚Äî –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Ç—ë–º–Ω—ã–µ
- [ ] –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –æ–±—Ä–∞—Ç–Ω–æ ‚Äî –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Å–≤–µ—Ç–ª—ã–µ
- [ ] –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É ‚Äî —Ç–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω–∏–ª–∞—Å—å

---

## –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

1. **–ö–†–ò–¢–ò–ß–ù–û**: `app/library/page.tsx` ‚Äî –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
2. **–ö–†–ò–¢–ò–ß–ù–û**: `components/library/Header.tsx` ‚Äî —à–∞–ø–∫–∞ –≤–µ–∑–¥–µ
3. **–í–ê–ñ–ù–û**: `app/admin/page.tsx` ‚Äî –∞–¥–º–∏–Ω–∫–∞
4. **–í–ê–ñ–ù–û**: –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
5. **–°–†–ï–î–ù–ï**: –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∞–¥–º–∏–Ω–∫–∏
6. **–ù–ò–ó–ö–û**: –ú–æ–¥–∞–ª–∫–∏ –∏ –≤—Ç–æ—Ä–æ—Å—Ç–µ–ø–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

---

---

## –ß—Ç–æ –Ω—É–∂–Ω–æ –æ—Ç Codex

### 1. –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π —Ñ–∞–π–ª –∏–∑ —Å–ø–∏—Å–∫–∞ –≤—ã—à–µ
–î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞ –Ω–∞–π—Ç–∏:
- –≠–ª–µ–º–µ–Ω—Ç—ã —Å —Ü–≤–µ—Ç–æ–º —Ñ–æ–Ω–∞ –ë–ï–ó `dark:` –≤–∞—Ä–∏–∞–Ω—Ç–∞
- –≠–ª–µ–º–µ–Ω—Ç—ã —Å —Ü–≤–µ—Ç–æ–º —Ç–µ–∫—Å—Ç–∞ –ë–ï–ó `dark:` –≤–∞—Ä–∏–∞–Ω—Ç–∞  
- –≠–ª–µ–º–µ–Ω—Ç—ã —Å –±–æ—Ä–¥–µ—Ä–æ–º –ë–ï–ó `dark:` –≤–∞—Ä–∏–∞–Ω—Ç–∞
- –≠–ª–µ–º–µ–Ω—Ç—ã —Å `dark:` –∫–ª–∞—Å—Å–æ–º –ë–ï–ó –±–∞–∑–æ–≤–æ–≥–æ —Å–≤–µ—Ç–ª–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞

### 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `contexts/ThemeContext.tsx`
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ª–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –∫–ª–∞—Å—Å `dark` –Ω–∞ `<html>`
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç `localStorage`
- –ù–µ—Ç –ª–∏ race conditions –ø—Ä–∏ SSR/hydration

### 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `tailwind.config.ts`
- –ï—Å—Ç—å –ª–∏ `darkMode: 'class'`

### 4. –í—ã–≤–µ—Å—Ç–∏ –æ—Ç—á—ë—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ:
```
–§–ê–ô–õ: path/to/file.tsx
–°–¢–†–û–ö–ê 45: bg-white ‚Äî –Ω–µ—Ç dark: –≤–∞—Ä–∏–∞–Ω—Ç–∞
–ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: bg-white dark:bg-[#1E1E1E]

–°–¢–†–û–ö–ê 78: text-[#5D4E3A] ‚Äî –Ω–µ—Ç dark: –≤–∞—Ä–∏–∞–Ω—Ç–∞
–ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: text-[#5D4E3A] dark:text-[#E5E5E5]
```

---

## –¶–≤–µ—Ç–∞ –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

### –°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞ (–±–∞–∑–æ–≤—ã–µ)
- –§–æ–Ω: `bg-white`, `bg-[#FDFCFA]`, `bg-[#FBF8F3]`, `bg-[#F5EFE6]`
- –¢–µ–∫—Å—Ç: `text-[#2D2A26]`, `text-[#5D4E3A]`, `text-[#8B8279]`
- –ë–æ—Ä–¥–µ—Ä: `border-[#E8D4BA]`

### –¢—ë–º–Ω–∞—è —Ç–µ–º–∞ (dark: –ø—Ä–µ—Ñ–∏–∫—Å—ã)
- –§–æ–Ω: `dark:bg-[#121212]`, `dark:bg-[#1E1E1E]`, `dark:bg-[#2A2A2A]`
- –¢–µ–∫—Å—Ç: `dark:text-[#E5E5E5]`, `dark:text-[#B0B0B0]`, `dark:text-[#707070]`
- –ë–æ—Ä–¥–µ—Ä: `dark:border-[#3D3D3D]`
