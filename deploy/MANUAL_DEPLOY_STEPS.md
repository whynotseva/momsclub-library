# üìã –†–£–ß–ù–û–ï –í–´–ü–û–õ–ù–ï–ù–ò–ï –î–ï–ü–õ–û–Ø

–ü–æ—Å–∫–æ–ª—å–∫—É sshpass/expect –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –≤—Ä—É—á–Ω—É—é.

---

## üîê –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É

```bash
ssh root@109.73.199.102
# –ü–∞—Ä–æ–ª—å: v*B9AR#4fD9pih
```

---

## üìã –®–ê–ì 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

```bash
cd /root/home/momsclub

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –±–æ—Ç–∞
systemctl status momsclub

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∞–π–ª—ã
ls -la | head -15

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –Ω–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤
ls -la loyalty/ 2>/dev/null || echo "–ü–∞–ø–∫–∞ loyalty –Ω–µ –Ω–∞–π–¥–µ–Ω–∞"
ls -la database/migrations/add_loyalty_fields.py 2>/dev/null || echo "–ú–∏–≥—Ä–∞—Ü–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞"
```

**–í–æ–ø—Ä–æ—Å:** –í–∏–¥–∏—Ç–µ –ª–∏ –≤—ã –ø–∞–ø–∫—É `loyalty/` –∏ —Ñ–∞–π–ª –º–∏–≥—Ä–∞—Ü–∏–∏? 

–ï—Å–ª–∏ –ù–ï–¢ - –Ω—É–∂–Ω–æ —Å–Ω–∞—á–∞–ª–∞ –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä.

---

## üìã –®–ê–ì 2: –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

–ï—Å–ª–∏ –Ω–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤ –Ω–µ—Ç, –∑–∞–≥—Ä—É–∑–∏—Ç–µ –∏—Ö –æ–¥–Ω–∏–º –∏–∑ —Å–ø–æ—Å–æ–±–æ–≤:

**–°–ø–æ—Å–æ–± A: –ß–µ—Ä–µ–∑ scp (—Å –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã)**
```bash
# –í –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ (–ù–ï –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ):
cd "/Users/vsevolod/Desktop/–ø—Ä–æ–µ–∫—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ /moms club"
scp -r loyalty root@109.73.199.102:/root/home/momsclub/
scp bot.py handlers/*.py database/models.py database/migrations/add_loyalty_fields.py utils/payment.py root@109.73.199.102:/root/home/momsclub/
scp -r deploy root@109.73.199.102:/root/home/momsclub/
```

**–°–ø–æ—Å–æ–± B: –í—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ —Ä–µ–¥–∞–∫—Ç–æ—Ä –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ**
–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–æ–≤ —á–µ—Ä–µ–∑ SSH –∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.

---

## üìã –®–ê–ì 3: –°–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–∞

–ü–æ—Å–ª–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É:

```bash
cd /root/home/momsclub

# –°–¥–µ–ª–∞—Ç—å —Å–∫—Ä–∏–ø—Ç—ã –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º–∏
chmod +x deploy/*.sh

# –°–æ–∑–¥–∞—Ç—å –±—ç–∫–∞–ø
cd deploy
sudo ./safe_deploy.sh $(date +%d%m%Y)
```

**‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï:** –≠—Ç–æ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç –±–æ—Ç–∞ –Ω–∞ ~1-2 –º–∏–Ω—É—Ç—ã!

**–í–æ–ø—Ä–æ—Å:** –í—ã–ø–æ–ª–Ω–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–∞? (yes/no)

---

## üìã –®–ê–ì 4: –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –±—ç–∫–∞–ø–∞ –∏ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤:

```bash
cd /root/home/momsclub/deploy
sudo ./deploy_new_version.sh
```

**‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï:** –≠—Ç–æ –≤—ã–ø–æ–ª–Ω–∏—Ç –º–∏–≥—Ä–∞—Ü–∏—é –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö!

**–í–æ–ø—Ä–æ—Å:** –í—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –∏ –∑–∞–ø—É—Å–∫? (yes/no)

---

## üìã –®–ê–ì 5: –ü—Ä–æ–≤–µ—Ä–∫–∞

```bash
# –°—Ç–∞—Ç—É—Å
systemctl status momsclub

# –õ–æ–≥–∏
journalctl -u momsclub -f --lines=50
```

---

## ‚úÖ –ò–ª–∏ –≤—Å—ë –∑–∞ –æ–¥–∏–Ω —Ä–∞–∑:

```bash
cd /root/home/momsclub/deploy
chmod +x *.sh
sudo ./full_deploy.sh
```

---

**–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã –≤—ã—à–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.**

