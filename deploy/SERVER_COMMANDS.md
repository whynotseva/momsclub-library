# –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (–ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤)

```bash
# 1. –ü–µ—Ä–µ–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
cd /root/home/momsclub

# 2. –°–¥–µ–ª–∞—Ç—å —Å–∫—Ä–∏–ø—Ç—ã –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º–∏
chmod +x deploy/*.sh

# 3. –°–æ–∑–¥–∞—Ç—å –±—ç–∫–∞–ø (–û–°–¢–ê–ù–û–í–ò–¢ –ë–û–¢–ê –ù–ê –í–†–ï–ú–Ø)
cd deploy
sudo ./safe_deploy.sh $(date +%d%m%Y)

# 4. –ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏ - —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å
sudo ./deploy_new_version.sh

# 5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É
systemctl status momsclub
```

---

## üìã –ü–æ—à–∞–≥–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã —Å –æ–±—ä—è—Å–Ω–µ–Ω–∏—è–º–∏

### –®–∞–≥ 1: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É
```bash
ssh user@your-server-ip
cd /root/home/momsclub
```

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –±–æ—Ç–∞
systemctl status momsclub

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
ls -la | head -20

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é Python
python3 --version
```

### –®–∞–≥ 3: –°–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–∞
```bash
cd /root/home/momsclub/deploy
chmod +x *.sh
sudo ./safe_deploy.sh 04112025
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- –°–æ–∑–¥–∞—ë—Ç—Å—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `/root/home/momsclub04112025` —Å –ø–æ–ª–Ω—ã–º –±—ç–∫–∞–ø–æ–º
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö `momsclub.db`
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è —Ñ–∞–π–ª `.env`
- **–ë–æ—Ç –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è** –Ω–∞ –≤—Ä–µ–º—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è

### –®–∞–≥ 4: –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏

**–í–∞—Ä–∏–∞–Ω—Ç A: –ß–µ—Ä–µ–∑ git (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω)**
```bash
cd /root/home/momsclub
git pull origin main
```

**–í–∞—Ä–∏–∞–Ω—Ç B: –ß–µ—Ä–µ–∑ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤**
–ó–∞–≥—Ä—É–∑–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —Ñ–∞–π–ª—ã –≤ `/root/home/momsclub/`:
- `bot.py`
- `handlers/user_handlers.py`
- `handlers/admin_handlers.py`
- `handlers/webhook_handlers.py`
- `database/models.py`
- `database/migrations/add_loyalty_fields.py`
- `utils/payment.py`
- –í—Å—é –ø–∞–ø–∫—É `loyalty/`
- –í—Å—é –ø–∞–ø–∫—É `deploy/`

### –®–∞–≥ 5: –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
```bash
cd /root/home/momsclub/deploy
sudo ./deploy_new_version.sh
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- –û–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –º–∏–≥—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
- –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–æ—Ç

### –®–∞–≥ 6: –ü—Ä–æ–≤–µ—Ä–∫–∞
```bash
# –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–∞
systemctl status momsclub

# –õ–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
journalctl -u momsclub -f --lines=50

# –õ–æ–≥–∏ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏
tail -f /root/home/momsclub/bot.log | grep loyalty
```

---

## ‚ö†Ô∏è –û—Ç–∫–∞—Ç –≤ —Å–ª—É—á–∞–µ –ø—Ä–æ–±–ª–µ–º

```bash
cd /root/home/momsclub/deploy
sudo ./rollback.sh 04112025
```

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `journalctl -u momsclub -n 100`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å: `systemctl status momsclub`
3. –û—Ç–∫–∞—Ç–∏—Ç–µ—Å—å –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â—É—é –≤–µ—Ä—Å–∏—é: `./rollback.sh [–¥–∞—Ç–∞]`

